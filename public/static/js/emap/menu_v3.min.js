function hasClass(b,a){return b.className.match(new RegExp("(\\s|^)"+a+"(\\s|$)"))}function removeClass(b,a){if(hasClass(b,a)){b.className=b.className.replace(new RegExp("(\\s|^)"+a+"(\\s|$)")," ")}}function addClass(b,a){if(!hasClass(b,a)){b.className+=" "+a}}function MenuControl(b){this.container=document.createElement("div");this.coordinate=null;this.map=b;this.sender=null;this.isEnable=true;this.container.className="menu_casing";this.hide();this.items=new Array();var a=this;google.maps.event.addListener(b,"click",function(){a.hide()});google.maps.event.addListener(b,"movestart",function(){a.hide()});google.maps.event.addListener(b,"zoom_changed",function(){a.hide()});google.maps.event.addListener(b,"dragstart",function(){a.hide()});this.container.index=1;b.controls[google.maps.ControlPosition.TOP_RIGHT].push(this.container)}MenuControl.prototype.show=function(b){this.container.style.display="block";if(b){for(var a=0;a<this.items.length;a++){if(b==this.items[a].groupName){this.items[a].show()}else{this.items[a].hide()}}}};MenuControl.prototype.hide=function(b){this.container.style.display="none";if(b){for(var a=0;a<this.items.length;a++){if(b==this.items[a].groupName){this.items[a].hide()}else{this.items[a].show()}}}};MenuControl.prototype.enable=function(){this.isEnable=true};MenuControl.prototype.disable=function(){this.isEnable=false};MenuControl.prototype.isHide=function(){return(this.container.style.display=="none")};MenuControl.prototype.addItem=function(a){a.host=this;this.items.push(a);this.container.appendChild(a.casing)};MenuControl.prototype.addSeparator=function(b){var a=b||new MenuSeparator();if(typeof b=="string"){a=new MenuSeparator(b)}this.items.push(a);this.container.appendChild(a.casing)};function MenuSeparator(a){this.groupName=a;this.casing=document.createElement("div");this.casing.className="menu_separator"}MenuSeparator.prototype.show=function(){this.casing.style.display="block"};MenuSeparator.prototype.hide=function(){this.casing.style.display="none"};function MenuItem(d){d=d||{};this.text=d.text||"";this.icon=d.icon;this.handler=d.handler;this.groupName=d.groupName;this.host=null;this.casing=document.createElement("div");this.casing.className="menu_item";var c=document.createElement("div");c.className="menu_text";var e=document.createElement("span");e.innerHTML=this.text;c.appendChild(e);this.casing.appendChild(c);var b=this;if(this.icon){var a=document.createElement("div");a.className="menu_icon";a.style.backgroundImage="url("+b.icon+")";b.casing.appendChild(a)}if(typeof b.handler=="function"){google.maps.event.addDomListener(b.casing,"click",function(){if(b.host){b.handler(b.host.coordinate);b.host.hide()}})}google.maps.event.addDomListener(b.casing,"mouseover",function(){addClass(b.casing,"item_active")});google.maps.event.addDomListener(b.casing,"mouseout",function(){removeClass(b.casing,"item_active")})}MenuItem.prototype.show=function(){this.casing.style.display="block"};MenuItem.prototype.hide=function(){this.casing.style.display="none"};